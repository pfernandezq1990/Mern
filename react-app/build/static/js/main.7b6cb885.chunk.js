(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{83:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),s=n.n(c),i=n(17),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},u=n(12),l=n(3),d=n(2),b=n.n(d),j=n(15),p=n(8),f=n(20),v=n(16),h=n.n(v),m="http://localhost:3000",x=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(m,"/videos"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(m,"/videos"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(m,"/videos/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(m,"/videos/").concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(m,"/videos/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=n(38),k=n.n(y),C=(n(83),n(1)),A=function(e){var t=e.video,n=e.loadVideos,a=Object(l.f)(),r=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{className:"col-md-4 mb-3",children:Object(C.jsxs)("div",{className:"card card-body video-card",style:{cursor:"pointer"},children:[Object(C.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(C.jsx)("h1",{onClick:function(){return a.push("/update/".concat(t._id))},children:t.title}),Object(C.jsx)("span",{className:"text-danger",onClick:function(){return t._id&&r(t._id)},children:"X"})]}),Object(C.jsx)("p",{children:t.description}),Object(C.jsx)("div",{className:"ratio ratio-1x1",children:Object(C.jsx)(k.a,{url:t.url,width:"100%",height:"100%"})})]})})},D=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,n=t.data.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{createdAt:e.createdAt?new Date(e.createdAt):new Date,updatedAt:e.updatedAt?new Date(e.updatedAt):new Date})})).sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()})),r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c()}),[]),Object(C.jsx)("div",{className:"row",children:n.map((function(e){return Object(C.jsx)(A,{video:e,loadVideos:c},e._id)}))})},F=n(19),T=function(){var e=Object(l.f)(),t=Object(l.g)(),n={title:"",description:"",url:""},r=Object(a.useState)(n),c=Object(f.a)(r,2),s=c[0],o=c[1],u=function(e){o(Object(j.a)(Object(j.a)({},s),{},Object(F.a)({},e.target.name,e.target.value)))},d=function(){var a=Object(p.a)(b.a.mark((function a(r){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),t.id){a.next=8;break}return a.next=4,O(s);case 4:i.b.success("Video creado!!"),o(n),a.next=11;break;case 8:return a.next=10,N(t.id,s);case 10:i.b.success("Video actualizado");case 11:e.push("/");case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:n=e.sent,a=n.data,r=a.title,c=a.description,s=a.url,o({title:r,description:c,url:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t.id&&v(t.id)}),[]),Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(C.jsx)("div",{className:"card",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h3",{className:"mb-3",children:"Nuevo Video"}),Object(C.jsxs)("form",{onSubmit:d,children:[Object(C.jsx)("label",{className:"form-label",children:"Titulo"}),Object(C.jsx)("div",{className:"form-group mb-3",children:Object(C.jsx)("input",{type:"text",name:"title",placeholder:"Introdusca un titulo",className:"form-control",onChange:u,value:s.title,autoFocus:!0})}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"form-label",children:"url"}),Object(C.jsx)("input",{type:"text",name:"url",placeholder:"https://algunsitio.com",className:"form-control",onChange:u,value:s.url})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"form-label",children:"Descripcion"}),Object(C.jsx)("textarea",{name:"description",rows:3,className:"form-control",placeholder:"Descripcion del video",onChange:u,value:s.description})]}),t.id?Object(C.jsx)("button",{className:"btn btn-info",children:"Modificar video"}):Object(C.jsx)("button",{className:"btn btn-primary",children:"Crear video"})]})]})})})})},V=function(){return Object(C.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(u.b,{className:"navbar-brand",to:"/",children:"Favorite Videos"}),Object(C.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(C.jsx)("span",{className:"navbar-toggler-icon"})}),Object(C.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(C.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(u.b,{className:"nav-link",to:"/new-video",children:"Create new video"})})})})]})})};n(87),n(88),n(89);s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(V,{}),Object(C.jsxs)("div",{className:"container p-4",children:[Object(C.jsxs)(l.c,{children:[Object(C.jsx)(l.a,{exact:!0,path:"/",component:D}),Object(C.jsx)(l.a,{path:"/new-video",component:T}),Object(C.jsx)(l.a,{path:"/update/:id",component:T})]}),Object(C.jsx)(i.a,{})]})]})}),document.getElementById("root")),o()}},[[90,1,2]]]);
//# sourceMappingURL=main.7b6cb885.chunk.js.map